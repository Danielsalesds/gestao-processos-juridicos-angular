import{a as R}from"./chunk-XE2DVSCV.js";import{a as I,c as N,e as F,i as A,j as O,k as V,m as j,n as D}from"./chunk-S2UL2ADM.js";import{h as M,i as T,k}from"./chunk-QYKIWR2K.js";import{g as E,j as C,l as L}from"./chunk-HIOVZM77.js";import{$a as i,Ba as v,Fa as P,Ra as p,S as y,Sa as e,Ta as t,X as u,Xa as S,Y as g,Ya as d,Za as b,ab as c,cb as w,db as x,eb as h,fb as _,qa as s,va as f}from"./chunk-SHKQSVLR.js";function J(m,n){if(m&1){let r=S();e(0,"tr",20)(1,"td",21),i(2),t(),e(3,"td",22),i(4),t(),e(5,"td",22),i(6),t(),e(7,"td",22),i(8),t(),e(9,"td",23)(10,"button",24),d("click",function(){let a=u(r).$implicit,l=b();return g(l.editar(a))}),i(11,"Editar"),t(),e(12,"button",25),d("click",function(){let a=u(r).$implicit,l=b();return g(l.remover(a.id))}),i(13,"Excluir"),t()()()}if(m&2){let r=n.$implicit;s(2),c(r.nome),s(2),c(r.tipo),s(2),c(r.cpfCnpj),s(2),c(r.email)}}var W=class m{constructor(n,r){this.partesService=n;this.router=r}location=y(E);todasPartes=[];filtroNome="";filtroTipo="";paginaAtual=1;itensPorPagina=5;ngOnInit(){this.carregarPartes()}carregarPartes(){this.todasPartes=this.partesService.getAll()}get partesFiltradas(){let n=this.todasPartes;this.filtroNome&&(n=n.filter(a=>a.nome.toLowerCase().includes(this.filtroNome.toLowerCase()))),this.filtroTipo&&(n=n.filter(a=>a.tipo===this.filtroTipo));let r=(this.paginaAtual-1)*this.itensPorPagina,o=r+this.itensPorPagina;return n.slice(r,o)}get totalPaginas(){let n=this.todasPartes.filter(r=>r.nome.toLowerCase().includes(this.filtroNome.toLowerCase())&&(this.filtroTipo?r.tipo===this.filtroTipo:!0)).length;return Math.ceil(n/this.itensPorPagina)}editar(n){this.router.navigate(["/partes-interessadas/editar",n.id])}remover(n){this.partesService.delete(n),this.carregarPartes()}mudarPagina(n){this.paginaAtual+=n}voltar(){this.location.back()}static \u0275fac=function(r){return new(r||m)(f(R),f(M))};static \u0275cmp=v({type:m,selectors:[["app-listagem"]],decls:40,vars:7,consts:[[1,"max-w-5xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md","border","border-gray-200"],[1,"text-3xl","font-extrabold","mb-6","text-center","text-gray-800"],[1,"mb-6","flex","flex-col","sm:flex-row","gap-4","sm:items-center","justify-between"],["type","text","placeholder","Filtrar por nome",1,"border","border-gray-300","rounded-md","p-3","w-full","sm:w-1/2","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"border","border-gray-300","rounded-md","p-3","w-full","sm:w-auto","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value",""],["value","PF"],["value","PJ"],["routerLink","/partes-interessadas/novo",1,"bg-blue-600","hover:bg-blue-700","transition-colors","text-white","px-6","py-3","rounded-md","font-semibold"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","border","border-gray-300"],[1,"bg-gray-100"],[1,"p-3","text-left","text-gray-700","font-semibold","border","border-gray-300"],[1,"p-3","text-center","text-gray-700","font-semibold","border","border-gray-300"],["class","border-b border-gray-300 hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mt-6","max-w-xs","mx-auto"],[1,"bg-gray-300","disabled:opacity-50","disabled:cursor-not-allowed","px-4","py-2","rounded","hover:bg-gray-400","transition-colors",3,"click","disabled"],[1,"text-gray-700","font-medium"],[1,"mt-6","flex","justify-center"],[1,"bg-gray-600","hover:bg-gray-700","transition-colors","text-white","px-6","py-3","rounded-md","font-semibold",3,"click"],[1,"border-b","border-gray-300","hover:bg-gray-50","transition-colors"],[1,"p-3","border","border-gray-300"],[1,"p-3","text-center","border","border-gray-300"],[1,"p-3","text-center","border","border-gray-300","space-x-3"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"click"],[1,"text-red-600","hover:text-red-800","font-medium",3,"click"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"h2",1),i(2," Partes Interessadas "),t(),e(3,"div",2)(4,"input",3),_("ngModelChange",function(l){return h(o.filtroNome,l)||(o.filtroNome=l),l}),t(),e(5,"select",4),_("ngModelChange",function(l){return h(o.filtroTipo,l)||(o.filtroTipo=l),l}),e(6,"option",5),i(7,"Todos os tipos"),t(),e(8,"option",6),i(9,"Pessoa F\xEDsica"),t(),e(10,"option",7),i(11,"Pessoa Jur\xEDdica"),t()(),e(12,"button",8),i(13," Cadastrar + "),t()(),e(14,"div",9)(15,"table",10)(16,"thead",11)(17,"tr")(18,"th",12),i(19,"Nome"),t(),e(20,"th",13),i(21,"Tipo"),t(),e(22,"th",13),i(23,"CPF/CNPJ"),t(),e(24,"th",13),i(25,"E-mail"),t(),e(26,"th",13),i(27,"A\xE7\xF5es"),t()()(),e(28,"tbody"),P(29,J,14,4,"tr",14),t()()(),e(30,"div",15)(31,"button",16),d("click",function(){return o.mudarPagina(-1)}),i(32," Anterior "),t(),e(33,"span",17),i(34),t(),e(35,"button",16),d("click",function(){return o.mudarPagina(1)}),i(36," Pr\xF3xima "),t()()(),e(37,"div",18)(38,"button",19),d("click",function(){return o.voltar()}),i(39," Voltar "),t()()),r&2&&(s(4),x("ngModel",o.filtroNome),s(),x("ngModel",o.filtroTipo),s(24),p("ngForOf",o.partesFiltradas),s(2),p("disabled",o.paginaAtual===1),s(3),w(" P\xE1gina ",o.paginaAtual," de ",o.totalPaginas," "),s(),p("disabled",o.paginaAtual>=o.totalPaginas))},dependencies:[L,C,j,O,V,I,A,N,F,D,k,T],encapsulation:2})};export{W as Listagem};
