import{a as r,b as A}from"./chunk-H3E636X6.js";import{a as h,d as g,e as v,g as C,h as y,j as k}from"./chunk-QYKIWR2K.js";import"./chunk-HIOVZM77.js";import{Ba as l,Ma as d,S as i,Ua as u,jb as f,va as s}from"./chunk-SHKQSVLR.js";var n=async(o,t)=>{let e=i(r),a=i(y);return await e.isLoggedIn()?!0:(await e.login({redirectUri:window.location.origin+t.url}),!1)};var I=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",loadComponent:()=>import("./chunk-VG4SK72E.js").then(o=>o.home),children:[{path:"",loadComponent:()=>import("./chunk-GFRPBUXD.js").then(o=>o.ListagemComponent)}]},{path:"dashboard",loadComponent:()=>import("./chunk-AVMCC74R.js").then(o=>o.Dashboard)},{path:"listar",loadComponent:()=>import("./chunk-H6ZX7KPB.js").then(o=>o.ListaProcessosComponent),canActivate:[n]},{path:"datajud",loadComponent:()=>import("./chunk-BQN7STWG.js").then(o=>o.Datajud),canActivate:[n],children:[{path:"",loadComponent:()=>import("./chunk-GFRPBUXD.js").then(o=>o.ListagemComponent)}]},{path:"partes-interessadas",loadComponent:()=>import("./chunk-4TU6OWOC.js").then(o=>o.PartesInteressadas),canActivate:[n],children:[{path:"",loadComponent:()=>import("./chunk-TOYRTP5Y.js").then(o=>o.Listagem)},{path:"novo",loadComponent:()=>import("./chunk-KFLUOHYJ.js").then(o=>o.Formulario)},{path:"editar/:id",loadComponent:()=>import("./chunk-KFLUOHYJ.js").then(o=>o.Formulario)}]}];function H(o){return async()=>{try{await o.init({config:{url:"http://localhost:8080/",realm:"processos",clientId:"frontend"},initOptions:{onLoad:"login-required",checkLoginIframe:!1}}),console.log("\u2705 Keycloak inicializado com sucesso")}catch(t){console.error("\u274C Erro ao inicializar Keycloak",t)}}}var K=(o,t)=>{let e=i(r);if(o.url.includes("/api-datajud"))return t(o);let a=e.getKeycloakInstance().token;if(a){let c=o.clone({setHeaders:{Authorization:`Bearer ${a}`}});return t(c)}return t(o)};var m={providers:[f(),k(I),r,g(v([K])),{provide:d,useFactory:H,deps:[r],multi:!0}]};var p=class o{constructor(t){this.auth=t}title="gestao-processos-juridicos-angular";async logout(){console.log("Sair do sistema!"),await this.auth.logout()}static \u0275fac=function(e){return new(e||o)(s(A))};static \u0275cmp=l({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&u(0,"router-outlet")},dependencies:[C],encapsulation:2})};console.log("Bootstrap com appConfig providers:",m.providers);h(p,m).catch(console.error);
